使用curl时会出现 call to undefined function curl_init() 错误
修改 extension=php_curl;
注意64位电脑使用 xampp(64位)

cmd
cd 进入文件所在目录
php -f 文件名

把网页抓取下来写入某个文件
php -f 文件名 > 另一文件名
进入文件所在目录 打开文件

$curl=curl_init('http://www.baidu.com'); // 初始化
curl_exec($curl); // 执行
curl_close($curl); // 关闭

理解和使用 curl

curl 的概念
     curl (client url library functions) 由 daniel stenberg 创建
     官方定义为 curl is a command line tool for transferring data with url syntax 即使用url 语法传输数据的命令行工具
curl 的使用场景
     网页资源 ---> 编写网页爬虫
     webservice 数据接口资源 ---> 动态获取接口数据 比如天气 号码归属地等等
     FTP 服务器里面的文件资源 ---> 下载 FTP 服务器里面的文件
     其他资源 ---> 所有网络上的资源都可以用 curl 访问和下载到
在 PHP 中使用 curl
curl 实战

确认 PHP 支持 cURL
windows linux
cmd php -i
linus php -i | grep curl

添加 cURL 支持

php 中使用 cURL
初始化 cURL curl_init()
向服务器发送请求 curl_exec()
接收服务器数据
关闭cURL curl_close()

采集数据
采集百度首页中所有的a标签及内容

// 获取百度源代码
$html = file_get_contents('http://www.baidu.com/index.php');

// 定义正则
$pattern = "/<a.*>.*<\/a>/U";

// 匹配数据
preg_match_all($pattern, $html, $matches);

// var_dump($matches);

foreach ($matches[0] as $v) {
	echo $v.'<br/>';
}

采集输入框的数据
// $html = file_get_contents('http://dev.xqs221.com/index.php?s=/Admin/Public/login.html');
// $pattern = "/<p.*><input.*<\/p>/U";
// preg_match_all($pattern, $html, $matches);
// foreach ($matches[0] as $v){
// 	echo $v.'<br>';
// }

$curl=curl_init('http://dev.xqs221.com/index.php?s=/Admin/Public/login.html'); // 初始化
curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
$content = curl_exec($curl); // 执行
curl_close($curl); // 关闭
$pattern = "/<p.*><input.*<\/p>/U";
preg_match_all($pattern,$content,$matches);
foreach ($matches[0] as $v){
	echo $v.'<br>';
}