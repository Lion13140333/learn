执行 MySQL 查询

在数据库建立连接以后就可以进行查询 采用 mysql_query 加 sql 语句的形式向数据库发送查询指令
$res = mysql_query('select * from user limit 1');

对于查询类的语句会返回一个资源句柄(resource) 可以通过该资源获取查询结果集中的数据

$row = mysql_fetch_array($res);
var_dump($row);

默认的 PHP 使用最近的数据库连接执行查询 但如果存在多个连接的情况 则可以通过参数指令从那个连接中进行查询

$link1 = mysql_connect('127.0.0.1', '', '');
$link2 = mysql_connect('127.0.0.1', '', '', true); // 开启一个新的连接
$res = mysql_query('select * from user limit 1', $link1); // 从第一个连接中查询数据

<?php
// 连接数据库
$link = mysql_connect('127.0.0.1', '', '') or die("数据库连接失败");
mysql_select_db('');
mysql_query("set names 'utf-8'");

// 数据查询
$res = mysql_query('select * from user limit 1', $link);
